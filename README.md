# MyGraduationProject

该项目为在校期间完成的用于绘画与回答问卷的Android软件，由以下主要功能构成：创建绘画和回答问卷调查（需要导入绘画模版与问卷模版），修改绘画和问卷回答，查看现有的绘画与问卷回答。除此之外，当用户第一次打开软件时将需要定义软件的密码，并记录根据该密码与PBKDF2算法生成的Key，该Key将用于找回密码。接下来将对该软件的主要使用流程及相对应功能进行介绍，具体流程为：配置及导入模版、绘画、回答问卷和查看/修改结果。

注： 该软件的用户主要分为医生与病人：医生是软件的购买者，决策者，影响者，信息管理者，负责管理文件和完成绘画/回答问卷行为之前的配置；病人是软件的使用者，负责完成绘画与回答问卷。

## 配置及导入模版

1. 当医生在选择创建问卷文件/绘画后，需要先输入绘画/回答问卷的病人的ID。
2. 随后医生可以选择接下来要进行的行为：绘画、回答问卷或两者都进行。
	2.1 为了进行绘画行为，医生需要导入绘画模版（Zip文件）并挑选在绘画时使用的疼痛类型（对应不同的颜色）
	2.2 为了进行问卷调查行为，医生需要导入问卷模版（JSON文件）
3. 配置完成后，即可进行绘画/回答问卷行为，并将软件交给病人使用

注：模版存于./PainApp-master/app/src/main/assets中

## 绘画及回答问卷

### 绘画部分

绘画时，根据导入的模版的不同会生成不同的背景模版，用户可以选择不同的颜色进行绘画。包含以下特性：

1. 对画布进行缩放与移动
2. 使用橡皮擦将绘画擦去或通过undo将最近的一笔绘画擦去
3. 在身体轮廓外（由导入的模版生成）的绘画会自动被软件擦去
4. 每一分钟会对画布自动保存，以JSON文件的形式保存坐标

### 回答问卷

回答问卷时，根据导入的问卷模版会在每个页面上展示不同的问题。用户可以选择回答或不回答某个问题。当问卷被完成后，会以CSV的形式保存在本地。


### 查看/修改文件

当查看/修改文件时，会根据病人ID将其对应的文件通过RecyclerView的方式展示出来，用户可以对某一个文件进行查看/修改。


## 后续计划

在对Android的学习不断深入后，某些功能实现方式现在回头看来过于笨拙或低效，在之后可能会对以下几点进行修改，也算对所学知识的巩固。

1. 现版本过多的使用Activity，部分页面完全可以通过Fragment完成。
2. 项目结构稍显混乱，部分类可以放在一起
3. 考虑通过MVP框架改造项目
